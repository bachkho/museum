<!DOCTYPE html>
<html>
	<head>
		<title><%= title %></title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<% include header %>
	</head>
	</head>
	<body>
		<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-lg-offset-2 col-md-offset-2">
		<% include nav %>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-lg-offset-2 col-md-offset-2">
		<div class="container-fluid">
			<div class="col-sm-12">
				<h1>Sign up</h1>
			</div>
			<div class="col-sm-12">
				<form class="form" name="form" method="post">
					<div class="form-group" >
						<label>Full Name</label><input name="fullname" class="form-control" required="">
					</div>
					<div class="form-group" >
						<label>Email</label><input type="email" name="email" class="form-control" required="">
					</div>
					<div class="form-group">
						<label>Password</label><input type="password" name="password" id="password" class="form-control">
					</div>
					<div>
						<button class="btn btn-inverse btn-lg btn-login" type="button" onclick="handleRegister()">Sign up</button><a class="btn btn-default btn-lg btn-register" href="/auth/login">Login</a>
						<button class="btn btn-inverse btn-lg btn-login" type="submit" id="btnSubmit" style="display: none;">Sign up</button>
					</div>
					<hr>
					<% if (message) { %>
						<div class="col-sm-12">
							<span class="text-danger"><%= message %></span>
						</div>
					<% } %>
					<script type="text/javascript">
						function ob (x) {
							return document.getElementById(x);
						}
						
						function handleRegister () {
							var plainPass = ob('password').value;
							var i = 0;
							while (i < 1000){
								plainPass = CryptoJS.MD5(plainPass).toString();
								i++;
							}
							ob('password').value = plainPass;
							$('#btnSubmit').click();
						}
					</script>
				</form>
			</div>
			<hr>
		</div>
		</div>
	</body>
</html>
